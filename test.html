<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	<!-- Optional theme 
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">	

	<link rel="stylesheet" href="/bootstrap.min.css">-->
	<title>Daily GK Tests</title>
</head>
<body>
	<div class="content">
		<div class="content-inside">
	     	<div class="text-center" style="">
				<a href="/" style="float:left;margin-left:10px;">
					<img src="backIcon.png" height="30">
				</a>
		    	<h3 class="text-muted" style="margin-right:10px;">Daily GK Tests</h3>
		    	<hr>
		    </div>

		    <div class="starter-template" id="questionDiv">
			    <div class="" style="margin-bottom:10px;">
			    	1. India is set to unveil ‘Young Professionals Scheme’ with which country?
			    </div>
		     
			  
		    	<span class="option thumbnail">
		    		<span class="correctOptFlag" style=""><img src="tick.png" height="30"></span>
		        	<span class="optionLabel">A</span>
		        	Japan
		        </span>

		        <span class="option thumbnail">
		    		<span class="correctOptFlag" style=""><img src="tick.png" height="30"></span>
		        	<span class="optionLabel">B</span>
		        	South Korea
		        </span>

		        <span class="option thumbnail">
		    		<span class="correctOptFlag" style=""><img src="tick.png" height="30"></span>
		        	<span class="optionLabel">C</span>
		        	UK
		        </span>

		        <span class="option thumbnail">
		    		<span class="correctOptFlag" style=""><img src="tick.png" height="30"></span>
		        	<span class="optionLabel">D</span>
		        	US
		        </span>

		    	<div class="" id="answerDiv">
		    		<b>Notes</b><br />
		    		India is set to unveil ‘Young Professionals Scheme’ with which country?
		    	</div>  

			</div>
	    </div>
	</div>


	<!--<div style="margin-bottom:20px;">
    	<button id="submitBtn" class="btn btn-lg" disabled>Check Answer</button>
    	<a class="btn btn-lg" href="/random" style="float:right;">Next Question</a>
	</div>-->

	

	<footer>
        <div style="margin:20px 4px;" class="col-xs-12">
	    	<a id="prevBtn" class="btn btn-lg btn-primary col-xs-5" style="float:left;" onclick="prevQuestion();">Previous</a>
	    	<a id="nextBtn" class="btn btn-lg btn-primary col-xs-5" style="float:right;" onclick="nextQuestion();">Next</a>
		</div>
    </footer>

	<style type="text/css">
		html, body {
		  height: 100%;
		  margin: 0;
		}
		footer{
		    height: 80px;
  			margin-top: -100px;
		}
		.content {
		  min-height: 100%;
		}
		.content-inside{
		  padding: 0px;
		  padding-bottom: 100px;
		}

		.starter-template{
			padding: 0 10px;
		}
		#questionDiv{
			margin-bottom: 10px;
		}
		.thumbnail{
			cursor: pointer;
			margin-right: 20px;
			padding: 10px;
		}

		.selected{
			background-color: #15bece;
			color: #fff;
		}
		.selected-wrong{
			background-color: #d9534f;
			border-color: #d43f3a;
			color: #fff;
		}
		.selected-warning{
			color: #fff;
			background-color: #f0ad4e;
			border-color: #eea236;
		}
		.correctOpt{
			border: 3px solid green;
		}

		.optionLabel{
			background-color: #15bece;
			color: #fff;
			padding: 4px 8px;
			font-size: 18px;
			font-weight: 400;
			margin-right: 5px;
		}
		.selected > .optionLabel{
			background-color: #fff;
			color: #15bece;
		}

		.correctOptFlag{
			display: none;
			float:right;
			color:green;
			margin-top: 0px;
		}
	</style>
</body>

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="google-analytics.js"></script>

    <!-- Latest compiled and minified JavaScript 
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<script src="/jquery.js"></script>-->

	<script type="text/javascript">
		var noQuestions = 0;
		var currQuestion = 0;
		var submitted = false;

		function prevQuestion() {
			console.log("prevQuestion");
			if(currQuestion == 0) return;
			currQuestion--;
			loadQuestion(currQuestion);
			submitted = false;
		}

		function nextQuestion() {
			console.log("nextQuestion");
			if(currQuestion == questions.length-1) return;
			currQuestion++;
			loadQuestion(currQuestion);
			submitted = false;
		}

		function loadQuestion(i) {
			console.log("loadQuestion");
			console.log(questions[i]);
			currQuestion = i;

			$("#prevBtn").attr('disabled', false);
			$("#nextBtn").attr('disabled', false);
			if(currQuestion == 0) {
				$("#prevBtn").attr('disabled', true);
			} else if(currQuestion == questions.length-1) {
				$("#nextBtn").attr('disabled', true);
			}

			var content = `
				<div class="" style="margin-bottom:10px;">
	    		`+ (i+1) + `. ` + questions[i]["Question"] + `
	    		</div>
			`;

			content += getOptionContent(questions[i], "A");
			content += getOptionContent(questions[i], "B");
			content += getOptionContent(questions[i], "C");
			content += getOptionContent(questions[i], "D");

			/*content += `
				<div style="margin-bottom:20px;">
			    	<button id="submitBtn" class="btn btn-lg" disabled>Check Answer</button>
				</div>
			`;*/
			console.log(content);
			document.getElementById("questionDiv").innerHTML = content;
		}

		function getOptionContent(question, opt) {
			console.log(question);
			console.log(opt);
			var content = "";

			if(opt == question["Answer"]) {
				content = `
					<span class="option thumbnail" onClick="optionClick()">
						<span class="correctOptFlag" style=""><img src="tick.png" height="30"></span>
						<span class="optionLabel">`+ opt + `</span> `
		    		 + question[opt] + 
		    		 `</span>
				`;
			} else {
				content = `
					<span class="option thumbnail" onClick="optionClick()">
						<span class="optionLabel">`+ opt + `</span> `
		    		 + question[opt] + 
		    		 `</span>
				`;
			}
			return content;
		}

		function optionClick() {
			return;
			if(submitted) return;

			$('.option').removeClass('selected');
			$(this).addClass('selected');
			$("#submitBtn").addClass('btn-primary');
			$("#submitBtn").attr('disabled', false);
		}
	</script>

	<script type="text/javascript">
		
		$(document.body).on('click', '.option' ,function(){
			if(submitted) return;

			$('.option').removeClass('selected');
			//$(this).addClass('selected');
			if($(this).children('span.correctOptFlag').length > 0) {
		        $(this).addClass('selected');
		     } else {
		     	$(this).addClass('selected-warning');
		     }
			//$("#submitBtn").addClass('btn-primary');
			//$("#submitBtn").attr('disabled', false);

			//submit functionality
			submitted = true;
			//$('#answerDiv').show();
			$('.correctOptFlag').show();
			$('.correctOptFlag').parent().addClass('correctOpt');
			$("#submitBtn").attr('disabled', true);
		});

		$(document.body).on('click', '#submitBtn' ,function(){
			submitted = true;
			//$('#answerDiv').show();
			$('.correctOptFlag').show();
			$('.correctOptFlag').parent().addClass('correctOpt');
			$("#submitBtn").attr('disabled', true);
		});
	</script>
	
	<script id='script'>
      
    /*fetch('https://docs.google.com/spreadsheets/d/e/2PACX-1vSz6KbBHUZJvBg1UJmkSvT7xJfPCc0PHU8bkc0SP9LqIi4t6iexhwTEO0Q0MhfHEAHyhYSL3UqO1LA0/pub?output=csv', {
    	method: 'get',
	      mode: 'no-cors'
    })
	  .then(response => response.text())
	  .then(data => console.log(data));
	  */

    </script>
    <script type="text/javascript">
    	var allText = `Question,A,B,C,D,Answer,Notes
India is set to unveil "Young Professionals Scheme" with which country?,Japan,South Korea,UK,USA,C,"India and the UK are set to unveil a new reciprocal visa arrangement whereby 3,000 degree-holding Indian nationals between the ages of 18 and 30 years will be allowed to come to Britain every year to live and work for up to two years. The UK-India Young Professionals Scheme will be reciprocal and open in early 2023. It is set to be launched during the first bilateral meeting between Prime Minister Narendra Modi and his British counterpart Rishi Sunak on the margins of the G20 Summit in Bali. India is the first country to benefit from such a scheme."
"Respect for Marriage Act" is associated with which country?,Germany,USA,UK,France,B,"The US Senate advanced ‘Respect for Marriage Act, that would provide federal protections for same-sex and interracial marriages. The Respect for Marriage Act repeals the previous Defense of Marriage Act and safeguards same-sex and inter-racial marriage by requiring the recognition of valid marriages regardless of sex, race, ethnicity or national origin."
Donyi Polo Airport has been inaugurated in which state/ UT?,Sikkim,Arunachal Pradesh,West Bengal,Jharkand,B,"Prime Minister Narendra Modi inaugurated the first greenfield airport in Arunachal Pradesh- Donyi Polo Airport in Hollangi, Itanagar. The foundation stone for the airport was laid by the Prime Minister in February 2019. The Donyi Polo Airport will be the third operational airport in Arunachal Pradesh, taking the total airport count in the northeast region to 16."
C. V. Ananda Bose has been appointed as the Governor of which state?,Andhra Pradesh,Tamil Nadu,West Bengal,Assam,C,"Dr CV Ananda Bose was appointed as the new Governor of West Bengal. The appointment was announced by a notification from the Rashtrapati Bhavan. Manipur Governor La Ganesan has been holding the additional charge of West Bengal since July after his predecessor Jagdeep Dhankhar resigned after his nomination as the National Democratic Alliance’s vice presidential candidate."
Which state hosted the 2nd edition of North East Olympic Games in 2022?,Assam,Meghalaya,Manipur,Sikkim,B,"The 2nd edition of North East Olympic Games was hosted by Shilllong, Meghalaya in 2022. Manipur emerged as the overall team champion with a total of 240 medals. Assam took the second spot with a total of 203 medals followed by Arunachal Pradesh. In the week long event, about 3000 participants from all around the North East states competed in 18 disciplines. Nagaland will host the next edition of the Northeast Olympic Games."`;

		

	//var csv is the CSV file with headers
	function csvJSON(csv){

	  var lines=csv.split("\n");

	  var result = [];

	  // NOTE: If your columns contain commas in their values, you'll need
	  // to deal with those before doing the next step 
	  // (you might convert them to &&& or something, then covert them back later)
	  // jsfiddle showing the issue https://jsfiddle.net/
	  var headers=lines[0].split(",");
	  console.log(headers)
	  for(var i=1;i<lines.length;i++){

	      var obj = {};
	      var currentline=lines[i].split(",");

	      for(var j=0;j<headers.length;j++){
	          obj[headers[j]] = currentline[j];
	      }

	      result.push(obj);

	  }

	  return result; //JavaScript object
	  //return JSON.stringify(result); //JSON
	}	

	var questions = csvJSON(allText);
	console.log(questions.length);
	console.log(questions);
	for(var i=0;i<questions.length;i++){
		console.log(questions[i]);
	}
	loadQuestion(0);

    </script>
</html>